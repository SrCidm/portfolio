document.addEventListener("DOMContentLoaded",()=>{const t=sessionStorage.getItem("projectFilter");t&&setTimeout(()=>{const l=document.querySelector(`[data-filter="${t}"]`);l&&l.click(),sessionStorage.removeItem("projectFilter")},500)});document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelectorAll(".scroll-reveal, .scroll-reveal-left, .scroll-reveal-right, .scroll-reveal-scale"),l=new IntersectionObserver(n=>{n.forEach(s=>{s.isIntersecting&&s.target.classList.add("revealed")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});t.forEach(n=>l.observe(n))});function Y(t){localStorage.setItem("theme",t),document.documentElement.classList.toggle("light",t==="light"),document.documentElement.classList.toggle("dark",t==="dark")}document.addEventListener("DOMContentLoaded",()=>{document.getElementById("theme-toggle")?.addEventListener("click",l=>{const s=(localStorage.getItem("theme")||"dark")==="dark"?"light":"dark";if(document.startViewTransition){const a=l.currentTarget.getBoundingClientRect(),r=a.left+a.width/2,c=a.top+a.height/2;document.documentElement.style.setProperty("--circle-x",`${r}px`),document.documentElement.style.setProperty("--circle-y",`${c}px`),document.startViewTransition(()=>{Y(s)})}else Y(s)})});document.querySelectorAll(".skill-link").forEach(t=>{t.addEventListener("click",l=>{const n=l.currentTarget.dataset.filter;n&&sessionStorage.setItem("projectFilter",n)})});document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("certificate-modal"),l=document.getElementById("modal-image"),n=document.getElementById("modal-title"),s=document.getElementById("modal-close"),E=document.getElementById("modal-backdrop");document.querySelectorAll(".certificate-btn").forEach(c=>{c.addEventListener("click",()=>{const v=c.getAttribute("data-certificate"),b=c.getAttribute("data-title");v&&l&&n&&t&&(l.src=v,n.textContent=b||"",t.classList.add("active"),document.body.style.overflow="hidden")})});const r=()=>{t&&(t.classList.remove("active"),document.body.style.overflow="")};s?.addEventListener("click",r),E?.addEventListener("click",r),document.addEventListener("keydown",c=>{c.key==="Escape"&&r()})});document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelectorAll(".filter-btn"),l=document.querySelectorAll(".project-card");t.forEach(e=>{e.addEventListener("click",()=>{t.forEach(i=>i.classList.remove("active")),e.classList.add("active");const d=e.getAttribute("data-filter");l.forEach(i=>{const $=i.getAttribute("data-technologies")?.split(",")||[];d==="all"||$.includes(d)?i.classList.remove("hidden-filter"):i.classList.add("hidden-filter")})})});const n=document.getElementById("project-modal"),s=document.getElementById("project-modal-image"),E=document.getElementById("project-modal-title"),a=document.getElementById("project-modal-close"),r=document.getElementById("project-modal-backdrop"),c=document.getElementById("image-container"),v=document.querySelectorAll(".project-image-btn"),b=document.getElementById("zoom-in-btn"),j=document.getElementById("zoom-out-btn"),D=document.getElementById("zoom-reset-btn"),C=document.getElementById("zoom-level"),O=document.getElementById("zoom-in-btn-mobile"),q=document.getElementById("zoom-out-btn-mobile"),S=document.getElementById("zoom-level-mobile");let o=1,m=0,u=0,g=!1,T=0,x=0;const y=.5,L=4,z=.25;function f(){s&&(s.style.transform=`translate(${m}px, ${u}px) scale(${o})`)}function p(){const e=Math.round(o*100)+"%";C&&(C.textContent=e),S&&(S.textContent=e)}function k(){o=1,m=0,u=0,f(),p()}function B(){o<L&&(o=Math.min(o+z,L),f(),p())}function I(){o>y&&(o=Math.max(o-z,y),o<=1&&(m=0,u=0),f(),p())}c?.addEventListener("wheel",e=>{e.preventDefault(),e.deltaY<0?B():I()},{passive:!1}),c?.addEventListener("mousedown",e=>{o>1&&(g=!0,T=e.clientX-m,x=e.clientY-u,c.style.cursor="grabbing")}),document.addEventListener("mousemove",e=>{g&&(m=e.clientX-T,u=e.clientY-x,f())}),document.addEventListener("mouseup",()=>{g=!1,c&&(c.style.cursor=o>1?"grab":"default")});let h=0,w=0,X=0;c?.addEventListener("touchstart",e=>{e.touches.length===2?h=Math.hypot(e.touches[0].clientX-e.touches[1].clientX,e.touches[0].clientY-e.touches[1].clientY):e.touches.length===1&&o>1&&(g=!0,w=e.touches[0].clientX-m,X=e.touches[0].clientY-u)},{passive:!0}),c?.addEventListener("touchmove",e=>{if(e.touches.length===2){const d=Math.hypot(e.touches[0].clientX-e.touches[1].clientX,e.touches[0].clientY-e.touches[1].clientY);if(h>0){const i=d-h;i>0&&o<L?o=Math.min(o+.02,L):i<0&&o>y&&(o=Math.max(o-.02,y)),f(),p()}h=d}else e.touches.length===1&&g&&(m=e.touches[0].clientX-w,u=e.touches[0].clientY-X,f())},{passive:!0}),c?.addEventListener("touchend",()=>{g=!1,h=0}),b?.addEventListener("click",B),j?.addEventListener("click",I),D?.addEventListener("click",k),O?.addEventListener("click",B),q?.addEventListener("click",I),v.forEach(e=>{e.addEventListener("click",()=>{const d=e.getAttribute("data-image"),i=e.getAttribute("data-title");d&&s&&E&&n&&(k(),s.src=d,E.textContent=i||"",n.classList.add("active"),document.body.style.overflow="hidden")})});const M=()=>{n&&(n.classList.remove("active"),document.body.style.overflow="",k())};a?.addEventListener("click",M),r?.addEventListener("click",M),document.addEventListener("keydown",e=>{e.key==="Escape"&&M(),n?.classList.contains("active")&&((e.key==="+"||e.key==="=")&&B(),e.key==="-"&&I(),e.key==="0"&&k())})});const F=document.getElementById("mobile-menu-btn"),A=document.getElementById("mobile-menu");F?.addEventListener("click",()=>{A?.classList.toggle("hidden")});A?.querySelectorAll("a").forEach(t=>{t.addEventListener("click",()=>{A.classList.add("hidden")})});
